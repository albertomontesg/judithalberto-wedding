!function(e){"use strict";function b(){t.data("waypoint").context.refresh(),s.each(function(t,n){var s=e(n);void 0!==s.data("waypoint")&&s.data("waypoint").context.refresh()}),i()}function v(){e(".img-as-bg").each(function(t,n){var s=e(n);s.parent().css("background-image",'url("'+s.attr("src")+'")'),s.remove()})}function g(){e("button.open-menu").on("click",function(){t.toggleClass("opened")}),i()}function i(){var e=t.find("ul.menu").innerHeight(),n=t.find(".menu-wrapper");e<=window.innerHeight?n.css("max-height",e).css("overflow","hidden"):n.css("max-height",window.innerHeight).css("overflow","auto")}function p(){var e=new Waypoint({element:$("nav").get(0),handler:function(e){"up"===e?($("nav").removeClass("nav-fixed"),$("div.content").css("margin-top",0)):($("nav").addClass("nav-fixed"),$("div.content").css("margin-top",$(".menu-wrapper").height()))}});t.data("waypoint",e)}function f(){e("a").on("click",function(s){if($(this).attr("href").indexOf("#")!=0)return;s.preventDefault();var o=e(this),i=o.attr("href"),a=$(document).width()>991?$(".menu-wrapper").height():54;0!==i.indexOf("#")||n.hasClass("scrolling")||n.addClass("scrolling").add("html").animate({scrollTop:e(i).offset().top-a+1},400,function(){n.removeClass("scrolling"),o.parents("nav").length>0&&t.removeClass("opened").find(".menu-wrapper").animate({scrollTop:0},400)})})}function r(){s.each(function(n,s){var a,o=e(s),r=o.attr("id"),c=$(".menu-wrapper").height(),i=null;if(t.find("a").each(function(e,t){t.hash==="#"+r&&(i=t)}),null===i)return!0;o.data("menu",i),a=new Waypoint({element:s,handler:function(t){var n=e(o.data("menu")).parent();"up"===t&&(n.removeClass("current-menu-item"),n=e(o.prevAll("section").eq(0).data("menu")).parent()),n.addClass("current-menu-item"),n.siblings().removeClass("current-menu-item")},offset:c}),o.data("waypoint",a)})}function c(){var s=e(window),o=window.innerHeight,n=0,t=s.scrollTop();t-n>=0&&e(".animation-chain").each(function(n,s){var i,a=e(s);t>a.offset().top-o/4*3&&(i=a.data("animation"),(void 0===i||""===i)&&(i="fadeInUp"),a.animateCssChain(i))}),n=t,window.requestAnimationFrame(c)}function d(){var s=e("section.section-hero .owl-carousel");s.imagesLoaded(function(){s.owlCarousel({loop:!0,margin:0,nav:!1,items:1,autoHeight:!1,dots:!0,autoplay:!0,autoplayTimeout:5e3,autoplayHoverPause:!1,smartSpeed:1e3,animateOut:"fadeOut"}),setTimeout(function(){window.requestAnimationFrame(c),setTimeout(function(){e(".section-hero .cta").animateCss("fadeInUp")},1e3)},600)}),e(".section-hero .scroll-down").on("click",function(){n.add("html").animate({scrollTop:t.offset().top},1e3)})}function l(){var t=e(".separator-carousel .owl-carousel");t.imagesLoaded(function(){t.owlCarousel({loop:!0,margin:0,nav:!0,items:4,autoHeight:!0,dots:!1,autoplay:!0,autoplayTimeout:5e3,responsive:{0:{items:1},480:{items:3},992:{items:4}}}),t.magnificPopup({delegate:"a",type:"image",gallery:{enabled:!0}})})}function u(){function o(){setTimeout(function(){s.addClass("opened"),t.addClass("loaded")},300)}n=e(".gallery-grid"),void 0!==e.fn.imagesLoaded&&void 0!==e.fn.isotope&&(n.imagesLoaded(function(){n.isotope({itemSelector:".gallery-grid-item",layoutMode:"masonry",initLayout:!1}).on("layoutComplete",function(){r()}).isotope()}),n.find(".gallery-grid-item").each(function(t,n){e(n).find("ul.video").length>0&&e("<img />").attr("src","img/youtube-play.svg").addClass("gallery-video-icon").prependTo(n)})),l=e(".gallery-cats a"),l.on("click",function(t){t.preventDefault();var s=e(this).data("cat");"*"!==s&&(s="."+s),n.isotope({filter:s})});var n,l,i=e("#gallery .gallery-grid-item"),s=e(".gallery-modal"),a=e(".gallery-modal .modal-nav-prev"),c=e(".gallery-modal .modal-nav-next"),d=e(".gallery-modal .modal-nav-close"),t=e(".gallery-overlay"),u=e(".gallery-open-modal");a.on("click",function(e){e.preventDefault(),i.filter(".current").prev().trigger("click")}),c.on("click",function(e){e.preventDefault(),i.filter(".current").next().trigger("click")}),d.on("click",function(e){e.preventDefault(),t.trigger("click")}),u.on("click",function(t){t.preventDefault(),e(this).parents(".gallery-grid-item").trigger("click")}),i.on("click",function(n){if("img"===n.target.tagName.toLowerCase()||e(n.target).hasClass("gallery-grid-item")){var l,f,r=e(this),y=r.find(".gallery-info"),j=s.find(".left"),h=s.find(".right"),p=r.find("ul.image-list"),b=r.find("ul.video");if((r.addClass("current").siblings().removeClass("current"),a.parent().toggleClass("enabled",r.prev().length>0),c.parent().toggleClass("enabled",r.next().length>0),j.empty().append(y.clone()),h.empty(),p.length>0)&&(l=e("<div />").addClass("owl-carousel owl-theme"),p.find("img").each(function(t,n){var s=e(n).clone();s.attr("src",s.data("src")),s.hasClass("img-vertical")&&s.css("max-height",window.innerHeight-240),e("<div />").addClass("item").append(s).appendTo(l)}),h.append(l),l.imagesLoaded(function(){l.owlCarousel({loop:!0,margin:0,nav:!1,items:1,autoHeight:!0,dots:!0}),o()})),b.length>0){var m=b.find("iframe"),d=m.data("src"),i=e("<div />").addClass("wide-screen");if(-1!==d.indexOf("youtube")){var g=d.split("?"),v=null,u=null;g.length>0&&(v=g[0],u=v.split("/"),u=u.pop(),f=e("<a />").attr({href:"#"}).append(e("<img/>").attr({src:"http://i.ytimg.com/vi/"+u+"/maxresdefault.jpg"})),i.append(f),i.imagesLoaded(function(){h.append(i),o()}),f.on("click",function(e){e.preventDefault(),d+="&autoplay=1",i.empty().append(m.clone().attr({src:d}))}))}else i.append(m.clone().attr({src:d}).on("load",function(){o()})),h.append(i)}t.css("display","flex"),setTimeout(function(){t.addClass("opened")},100)}}),t.on("click",function(n){e(n.target).hasClass("gallery-overlay")&&(s.find(".right").empty(),s.removeClass("opened"),setTimeout(function(){t.removeClass("opened"),setTimeout(function(){t.hide(),t.removeClass("loaded")},300)},300))})}function h(){var t=e(".countdown-area"),n=e(".countdown-title");t.countdown(t.data("final-date"),{elapse:!0}).on("update.countdown",function(e){e.elapsed?(n.html(n.data("after-countdown")),t.html(t.data("after-countdown"))):t.html(e.strftime('<ul><li><span class="digits">%-D</span><span class="unit">'+t.data("day")+'</span></li><li><span class="digits">%-H</span><span class="unit">'+t.data("hour")+'</span></li><li><span class="digits">%-M</span><span class="unit">'+t.data("minute")+'</span></li><li><span class="digits">%-S</span><span class="unit">'+t.data("second")+"</span></li></ul>"))})}function m(){var t=e(".parallax");t.length>0&&t.parallax({mode:1})}function a(){window.innerWidth<540?e("#rsvp-form").height(1850):window.innerWidth<820?e("#rsvp-form").height(1620):e("#rsvp-form").height(1400)}var n=e("body"),t=e("nav"),o=e(".preloader"),s=e("section");window.onload=function(){v(),g(),p(),f(),r(),d(),l(),u(),h(),m(),a(),o.addClass("done"),setTimeout(function(){o.remove()},500)},e(window).on("resize orientationchange",function(){b()}),e(window).on("resize",function(){a()}),e.fn.extend({animateCss:function(t){var n="webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend";e(this).addClass("animated "+t).one(n,function(){e(this).removeClass(t)})},animateCssChain:function(t,n){(n==null||""===n)&&(n=.1),e(this).children().each(function(s,o){var i=e(o);return!!i.hasClass("animated")||void i.css({"-webkit-animation-delay":n*s+"s","animation-delay":n*s+"s"}).animateCss(t)})}})}(jQuery)